--- a/agent.py
+++ b/agent.py
@@ -43,9 +43,11 @@
 				self.solver._round_iters[int(r)] = int(it)
 		return dict(getattr(self.solver, "_round_iters", {}))
 
-	def _bucketize_own_hand(self, cards, board):
-		h = " ".join(cards) if isinstance(cards, (list, tuple)) else str(cards)
-		return int(self.clusterer.hand_to_bucket(h))
+    def _bucketize_own_hand(self, cards, board):
+        h = " ".join(cards) if isinstance(cards, (list, tuple)) else str(cards)
+        if hasattr(self.clusterer, "assign"):
+            return int(self.clusterer.assign(h, list(board)))
+        return int(self.clusterer.hand_to_bucket(h))
 
 	def _uniform_range(self):
 		u = 1.0 / float(self.num_clusters) if self.num_clusters > 0 else 0.0
